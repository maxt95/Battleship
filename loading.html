<!DOCTYPE html>
<html>
<head>
<title>NAXJO Battleship ... Loading</title>
<style>
    body, html {
        font-size: 24px;
        font-family: monospace;
        background-color: darkgrey;
    }
    header {
        background-color: dodgerblue;
        text-align: center;
        display: table-cell;
        vertical-align: middle;
        
    }
    button {
        font-size: 20px;
        font-family: monospace;
        background-color: lightsteelblue;
    }
</style>
<script>
    
    var xmlhttp;
    window.onload = function first() {
        xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                var code = JSON.parse(xmlhttp.responseText);
                var txt = "Room Code: ";
                for (var key in code) {
                    txt += code[key].concat("<BR></BR>");
                    if (key == 0) {
                        txt += "Players:".concat("<BR></BR>");
                    }
                }
                document.getElementById("roomnum").innerHTML = txt;
            }
        };
        xmlhttp.open("GET", "getInfo.php", true);
        xmlhttp.send();
        window.setInterval(first, 5000);
    };
 
    function startGame() {
        //send info to next page
        window.location = "battleship.html";
    }
     
</script>
</head>
<body>
    <center>
    <H1>NAXJO Battleship</H1>
    <p>Waiting for More Players to Join...</p>
    <text id = "roomnum"></text>
    <BR></BR>
    <form>
        <BR></BR>
        <button type = "button" onclick = "startGame()">Launch Game</button>
        <BR></BR>
    </form>
    </center>
</body>
</html>